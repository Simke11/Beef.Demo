<?xml version="1.0" encoding="utf-8"?>
<CodeGeneration RefDataNamespace="Beef.Demo.Common.Entities" Grpc="true" ValidatorLayer="Business" MapperDefaultRefDataConverter="ReferenceDataCodeConverter" RefDataText="true" EventPublish="true" xmlns="http://schemas.beef.com/codegen/2015/01/entity" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://github.com/Avanade/Beef/raw/master/tools/Beef.CodeGen.Core/Schema/codegen.entity.xsd">
  
  <Entity Name="Person" Text="Person" Implements="IETag, IChangeLog" Collection="true" CollectionResult="true" Validator="PersonValidator" WebApiRoutePrefix="api/v1/persons" Create="true" Delete="true" AutoImplement="Database" DatabaseSchema="Demo">
    <Property Name="Id" Text="{{Person}} identifier" Type="Guid" UniqueKey="true" DataAutoGenerated="true" DataName="PersonId" />
    <Property Name="FirstName" Type="string" />
    <Property Name="LastName" Type="string" />
    <Property Name="Title" Type="RefDataNamespace.Title" RefDataType="string" DataName="TitleCode" />
    <Property Name="Dob" Type="DateTime" DateTimeTransform="DateOnly" />
    <Property Name="ETag" ArgumentName="etag" Type="string" GrpcFieldNo="500" />
    <Property Name="ChangeLog" Type="ChangeLog" IsEntity="true" GrpcFieldNo="501" />

    <Operation Name="Get" OperationType="Get" UniqueKey="true" WebApiRoute="{id}" />
    <Operation Name="Update" OperationType="Update" Validator="PersonValidator" UniqueKey="true" WebApiRoute="{id}" />
    <Operation Name="Patch" OperationType="Patch" UniqueKey="true" WebApiRoute="{id}" />
    <Operation Name="Create" OperationType="Create" Validator="PersonValidator" />

    <Operation Name="GetByArgs" OperationType="GetColl" ReturnType="Person" PagingArgs="true" AutoImplement="None">
      <Parameter Name="Args" Type="PersonArgs" Validator="PersonArgsValidator" />
    </Operation>
  </Entity>

  <Entity Name="PersonArgs" Text="{{Person}} arguments" ExcludeAll="true">
    <Property Name="FirstName" Type="string" />
    <Property Name="LastName" Type="string" />
    <Property Name="Titles" Type="Title" RefDataType="string" RefDataList="true" />
  </Entity>
 </CodeGeneration>